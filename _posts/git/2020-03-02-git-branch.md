---
layout: post
title: "Git Branch 기본 이해"
category: [git]
tags: [git]
comments: true
---

## Branch

- 버전 관리 시스템의 기본
- Origin 코드와 별개로 독립된 개발을 진행하기 위해 사용

맨 처음 커밋을 할 때, Git은 `master` (`main`)라는 이름을 가진 브랜치를 만들고 자동으로 가장 마지막 커밋을 가리키게 (포인터같이) 한다. 다음과 같은 상황을 가정해보자.

1. 최초 커밋
2. `develop`이라는 브랜치 생성

이때 새로 만든 브랜치 `develop`도 마지막 커밋을 가리킨다.

## HEAD

Git에서 현재 작업 중인 브랜치를 구분할 수 있는 것은 `HEAD`라는 일종의 포인터가 있기 때문이다. `HEAD`는 로컬에서 지금 작업하고 있는 브랜치를 가리킨다.

즉, 위에서 가정했던 상황에서, 최초로 커밋했을 때 `HEAD`는 `master` 브랜치를 가리키고, 새로운 브랜치를 생성했지만 작업 브랜치를 옮기지 않았기 때문에 여전히 `HEAD`는 `master` 브랜치를 가리킨다.

```console
$ git checkout develop
```

위와 같이 작업 브랜치를 `develop`으로 변경하면, `HEAD`는 `develop` 브랜치를 가리키게 된다.

## 작업 공간의 분리

현재 작업 브랜치인 `develop`에서 파일 하나를 생성하거나 수정해서 변경 사항을 만든 다음 `add`와 `commit`을 해보자. 이때의 상황은 (?) 다음과 같이 정리할 수 있다.

- `HEAD`는 `develop` 브랜치를 가리킴
- `develop` 브랜치는 새로운 커밋을 가리킴
- `master` 브랜치는 변동없이 이전 커밋을 가리킴

이제 `master` 브랜치로 다시 작업 브랜치를 옮겨보자. 이때의 상황은 다음과 같이 변한다.

- `HEAD`는 `master` 브랜치를 가리킴
- `master` 브랜치는 이전 커밋을 가리킴

즉, `develop` 브랜치에서 한 작업은 (Merge 할 때까지) 메인 브랜치인 `master` 브랜치에 아무런 영향을 끼치지 않는다. (브랜치 별로 독립적으로 작업할 수 있음)
결론적으로 이러한 특징을 활용하면 여러 명이서 동시에 다른 기능을 개발하거나, 배포 이후에도 이어서 다음 버전을 개발하면서도 기존의 코드에 문제가 생기지 않게 할 수 있다.
